@model List<CampusManagement.Models.GetNoticBoardLists_Result>
@using CampusManagement.Models
@{
    ViewBag.Title = "Notice Board";
    ////Layout = "~/Views/Shared/_MyLayout.cshtml";
}

@using (Html.BeginForm("ShowNoticeBoard", "NoticeBoards", FormMethod.Post, new { enctype = "multipart/form-data", @style = "margin-bottom:10px" }))
{
    @Html.AntiForgeryToken()
    <h1>@ViewBag.Title</h1>

    <hr style="border-top: 1px solid #6d9b90;" />
    ModelCMSNewContainer dbc = new ModelCMSNewContainer();
    @Html.Partial("_MessageView")


<div class="row">
    <div class="col-sm-5">
        <label>
            Notice Type
        </label>
        
        @Html.DropDownList("NoticeTypeID", null, "All", new { @class = "form-control" })
        </div>
    <div class="col-sm-5">
        <label>
            Faculty
        </label>


        @Html.DropDownList("FacultyID", null, "All", new { @class = "form-control" })
    </div>
    <div class="col-sm-2">

        <br />
        <button type="submit" class="btn btn-primary" value="Search">
            <span class="glyphicon glyphicon-search"></span> Search
        </button>

    </div>
    </div>

    <br />

    {
        List<NoticeType> lstNoticeTypes = dbc.NoticeTypes.OrderByDescending(nt => nt.NoticeTypeName).ToList();
        if (Model.Count > 0)
        {
            int NoticeTypeID = 0;
            <table class="table">
                @foreach (var item in Model)
                {
                    if (NoticeTypeID != item.NoticeTypeID)
                    {
                    <tr class="divNoticeType">
                        <td>
                            @Html.DisplayFor(modelItem => item.NoticeTypeName)
                        </td>
                    </tr>
                    NoticeTypeID = item.NoticeTypeID;
                    }
                    <tr class="divNoticeTitle">
                        <td>
                            @Html.DisplayFor(modelItem => item.NoticeBoardTitle)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.NoticeBoardText)
                        </td>
                    </tr>
                }
            </table>
        }
    }
}

<style>
    .divNoticeType {
        font-weight: 700;
        background: #337ab7;
        color:white;
    }
    .divNoticeTitle {
        font-weight: 700;
        background: #a2aeb9;
        color:white;
    }
</style>
