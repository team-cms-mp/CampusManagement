@model CampusManagement.Models.StudentBatchProgramCourse

@using (Html.BeginForm("Create", "Disciplines", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    <div class="row">
        <h2><span class="col-sm-12">Register Subjects</span></h2>
    </div>
    <hr style="border-top: 1px solid #6d9b90;" />
    @Html.Partial("_MessageView")

    <div class="row">
      
        <div class="col-sm-6">
            @Html.LabelFor(model => model.BatchProgramID, htmlAttributes: new { @class = "control-label" })
            @Html.DropDownList("BatchProgramID", null, htmlAttributes: new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.BatchProgramID, "", new { @class = "text-danger" })
        </div>
        <div class="col-sm-4">
            @Html.LabelFor(model => model.YearSemesterNo, htmlAttributes: new { @class = "control-label" })
            @Html.DropDownList("Semester", null, htmlAttributes: new { @class = "form-control", @id="semester" })
            @Html.ValidationMessageFor(model => model.YearSemesterNo, "", new { @class = "text-danger" })
        </div>
    </div>




}


@using (Html.BeginForm("Index", "FormSaleDetails", FormMethod.Post))
{
    <div class="row" style="margin-top: -2em;margin-bottom: -2em;">
        <div class="col-sm-5 inner-addon right-addon">
            <input type="text" class="form-control" placeholder="search" name="Search" />
        </div>
        <div class="col-sm-1">
            <button type="submit" class="btn btn-primary" value="Search">
                <span class="glyphicon glyphicon-search"></span> Search
            </button>
        </div>
    </div>
}


@section Scripts {
    <script>
        $(document).change(function () { 
            $("#Semester").val(function () {
                GetSubjects();
             });
        });

        function GetSubjects() {
            var selectedValue = $("#Semester").val();
            $.ajax({
                url: "@Url.Content("~/StudentSubjectCourse/GetSubjects")",
                type: 'POST',
                datatype: 'application/json',
                contentType: 'application/json',
                async: false,
                data: JSON.stringify({ FormNo: +selectedValue }),
                success: function (result) {
                    if (result == "No result found.") {
                        alert(result);
                        return;
                    }

                    var result = $.parseJSON(result);
                    $("#SalutationName").val(result[0].SalutationName);
                   
                },
                error: function () {
                    alert("Something went wrong..");
                },
            });
        }

    </script>


}
